# Project File Tree (Module 1)

```
smart-attendance/
â”‚
â”œâ”€â”€ .env.example                        # Environment config template
â”œâ”€â”€ .gitignore                          # Git ignore rules
â”œâ”€â”€ README.md                           # Project overview
â”œâ”€â”€ QUICKSTART.md                       # Quick start guide
â”œâ”€â”€ VALIDATION_CHECKLIST.md             # Testing checklist
â”œâ”€â”€ MODULE_1_SUMMARY.md                 # Implementation summary
â”œâ”€â”€ setup.ps1                           # Windows setup script
â”œâ”€â”€ pyproject.toml                      # Project metadata
â”œâ”€â”€ requirements.txt                    # Python dependencies
â”œâ”€â”€ pytest.ini                          # Pytest configuration
â”œâ”€â”€ MLproject                           # MLflow project config
â”œâ”€â”€ conda.yaml                          # Conda environment
â”‚
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â””â”€â”€ ci.yml                      # CI/CD pipeline
â”‚
â”œâ”€â”€ docker/
â”‚   â”œâ”€â”€ Dockerfile.edge                 # Edge device container
â”‚   â””â”€â”€ Dockerfile.server               # Server container
â”‚
â”œâ”€â”€ infra/
â”‚   â”œâ”€â”€ k8s_deploy.yaml                 # Kubernetes deployment
â”‚   â””â”€â”€ canary_rollout.yaml             # Canary rollout config
â”‚
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ export_onnx.sh                  # ONNX export (stub)
â”‚   â”œâ”€â”€ quantize_onnx.sh                # ONNX quantization (stub)
â”‚   â”œâ”€â”€ sign_model.sh                   # Model signing (stub)
â”‚   â””â”€â”€ deploy_canary.sh                # Canary deployment (stub)
â”‚
â”œâ”€â”€ sample_data/
â”‚   â””â”€â”€ sample_frame.jpg                # Sample image (placeholder)
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ main.py                     # âœ… FastAPI app
â”‚   â”‚   â”œâ”€â”€ deps.py                     # âœ… Dependency injection
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â””â”€â”€ v1/
â”‚   â”‚   â”‚       â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚       â”œâ”€â”€ routes_health.py    # âœ… Health endpoint
â”‚   â”‚   â”‚       â”œâ”€â”€ routes_device.py    # âœ… Device registration
â”‚   â”‚   â”‚       â”œâ”€â”€ routes_models.py    # âœ… Model management
â”‚   â”‚   â”‚       â”œâ”€â”€ routes_stream.py    # âœ… Stream management
â”‚   â”‚   â”‚       â””â”€â”€ routes_attendance.py # âœ… Attendance & enrollment
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”œâ”€â”€ config.py               # âœ… Pydantic config
â”‚   â”‚   â”‚   â”œâ”€â”€ stream_models.py        # âœ… Stream models
â”‚   â”‚   â”‚   â”œâ”€â”€ detection_models.py     # âœ… Detection models
â”‚   â”‚   â”‚   â””â”€â”€ attendance_models.py    # âœ… Attendance models
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ services/
â”‚   â”‚       â”œâ”€â”€ __init__.py
â”‚   â”‚       â”œâ”€â”€ stream_service.py       # âœ… Stream service (stub)
â”‚   â”‚       â”œâ”€â”€ detector_service.py     # ðŸ”² Detector (NotImplementedError)
â”‚   â”‚       â”œâ”€â”€ pose_service.py         # ðŸ”² Pose (NotImplementedError)
â”‚   â”‚       â”œâ”€â”€ embedding_service.py    # ðŸ”² Embedding (NotImplementedError)
â”‚   â”‚       â”œâ”€â”€ pafu_service.py         # ðŸ”² PAFU (NotImplementedError)
â”‚   â”‚       â”œâ”€â”€ tracker_service.py      # ðŸ”² Tracker (NotImplementedError)
â”‚   â”‚       â”œâ”€â”€ matcher_service.py      # ðŸ”² Matcher (NotImplementedError)
â”‚   â”‚       â””â”€â”€ attendance_service.py   # âœ… Attendance service (stub)
â”‚   â”‚
â”‚   â”œâ”€â”€ pipeline/                       # ðŸ”² All stubs (Module 2+)
â”‚   â”‚   â”œâ”€â”€ io/
â”‚   â”‚   â”‚   â”œâ”€â”€ rtsp_reader.py          # TODO: Module 2
â”‚   â”‚   â”‚   â””â”€â”€ frame_queue.py          # TODO: Module 2
â”‚   â”‚   â”œâ”€â”€ bafs/
â”‚   â”‚   â”‚   â””â”€â”€ bafs_scheduler.py       # TODO: Module 2
â”‚   â”‚   â”œâ”€â”€ detection/
â”‚   â”‚   â”‚   â”œâ”€â”€ yolov10_tiny.py         # TODO: Module 3
â”‚   â”‚   â”‚   â””â”€â”€ yolo_onnx_wrapper.py    # TODO: Module 3
â”‚   â”‚   â”œâ”€â”€ pose/
â”‚   â”‚   â”‚   â”œâ”€â”€ movenet_thunder.py      # TODO: Module 4
â”‚   â”‚   â”‚   â””â”€â”€ pose_utils.py           # TODO: Module 4
â”‚   â”‚   â”œâ”€â”€ embeddings/
â”‚   â”‚   â”‚   â”œâ”€â”€ lightcnn_backbone.py    # TODO: Module 5
â”‚   â”‚   â”‚   â”œâ”€â”€ adaface_wrapper.py      # TODO: Module 7
â”‚   â”‚   â”‚   â”œâ”€â”€ peri_tiny.py            # TODO: Module 8
â”‚   â”‚   â”‚   â””â”€â”€ embedding_utils.py      # TODO: Modules 5-8
â”‚   â”‚   â”œâ”€â”€ pafu/
â”‚   â”‚   â”‚   â”œâ”€â”€ hybrid_pafu.py          # TODO: Module 6
â”‚   â”‚   â”‚   â””â”€â”€ pafu_utils.py           # TODO: Module 6
â”‚   â”‚   â”œâ”€â”€ reid/
â”‚   â”‚   â”‚   â””â”€â”€ osnet_x025.py           # TODO: Module 8
â”‚   â”‚   â”œâ”€â”€ fusion/
â”‚   â”‚   â”‚   â””â”€â”€ pamie.py                # TODO: Module 9
â”‚   â”‚   â”œâ”€â”€ tracking/
â”‚   â”‚   â”‚   â””â”€â”€ mr2_bytetrack.py        # TODO: Module 10
â”‚   â”‚   â”œâ”€â”€ matching/
â”‚   â”‚   â”‚   â””â”€â”€ lqfb.py                 # TODO: Module 11
â”‚   â”‚   â””â”€â”€ persistence/
â”‚   â”‚       â””â”€â”€ sqlite_store.py         # TODO: Module 12
â”‚   â”‚
â”‚   â”œâ”€â”€ mlflow/                         # ðŸ”² All stubs (Module 14)
â”‚   â”‚   â”œâ”€â”€ train/
â”‚   â”‚   â”‚   â”œâ”€â”€ pafu_finetune.py        # TODO: Module 14
â”‚   â”‚   â”‚   â””â”€â”€ train_utils.py          # TODO: Module 14
â”‚   â”‚   â”œâ”€â”€ ci/
â”‚   â”‚   â”‚   â””â”€â”€ mlflow_ci.sh            # TODO: Module 14
â”‚   â”‚   â””â”€â”€ registry_utils.py           # TODO: Module 14
â”‚   â”‚
â”‚   â””â”€â”€ utils/
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ downloads.py                # âœ… Model downloader (stub)
â”‚       â”œâ”€â”€ security.py                 # âœ… Security utils (stub)
â”‚       â”œâ”€â”€ timers.py                   # âœ… Performance timing
â”‚       â””â”€â”€ logging.py                  # âœ… Structured logging
â”‚
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ unit/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ test_routes.py              # âœ… Complete route tests
â”‚   â”‚   â”œâ”€â”€ test_rtsp_reader.py         # TODO: Module 2
â”‚   â”‚   â”œâ”€â”€ test_bafs_scheduler.py      # TODO: Module 2
â”‚   â”‚   â””â”€â”€ test_pafu_adapter.py        # TODO: Module 6
â”‚   â””â”€â”€ integration/
â”‚       â””â”€â”€ test_end2end_cpu_onnx.sh    # TODO: Module 15
â”‚
â””â”€â”€ notebooks/
    â””â”€â”€ viz_finetune.ipynb              # TODO: Module 14

Legend:
âœ… = Implemented and tested (Module 1)
ðŸ”² = Stub/placeholder (future modules)
TODO = Not yet created (future modules)
```

## File Count Summary

### Module 1 (Implemented)
- **Application Code**: 25 files
- **Tests**: 2 files (+ framework)
- **Configuration**: 6 files
- **Documentation**: 5 files
- **Infrastructure**: 6 files (stubs)
- **Total Created**: ~50 files

### Future Modules (Placeholders)
- **Pipeline**: 0 files created (directories exist in structure only)
- **MLflow**: 0 files created
- **Integration Tests**: 0 files created

### Lines of Code (Module 1)
- **Application**: ~1,500 lines
- **Tests**: ~200 lines
- **Config**: ~300 lines
- **Docs**: ~1,000 lines
- **Total**: ~3,000 lines

## Directory Status

| Directory | Status | Module |
|-----------|--------|--------|
| `src/app/` | âœ… Complete | 1 |
| `src/utils/` | âœ… Stubs | 1 |
| `src/pipeline/` | ðŸ”² Empty | 2-12 |
| `src/mlflow/` | ðŸ”² Empty | 14 |
| `tests/unit/` | âœ… Partial | 1 |
| `tests/integration/` | ðŸ”² Empty | 15 |
| `docker/` | âœ… Stubs | 16 |
| `infra/` | âœ… Stubs | 16 |
| `scripts/` | âœ… Stubs | 14-16 |

## Next Module Additions

**Module 2** will add:
- `src/pipeline/io/rtsp_reader.py`
- `src/pipeline/io/frame_queue.py`
- `src/pipeline/bafs/bafs_scheduler.py`
- `tests/unit/test_rtsp_reader.py`
- `tests/unit/test_frame_queue.py`
- `tests/unit/test_bafs_scheduler.py`

Estimated: +6 files, ~800 lines of code
